<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		
    <title>Vizualizacija - Projekt</title>
    <link rel="shortcut icon" type="image/png" href="img/heart.png"/>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css?family=Bungee+Shade" rel="stylesheet">
     

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/colorbrewer.v1.min.js"></script>
    <script src="legend.js"></script>
    <!-- <script src="http://d3js.org/d3.geo.projection.v0.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script> -->
    <script src="http://d3js.org/topojson.v0.min.js"></script>
    <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
    
    
    <style>
      
      body{
        padding-left: 30px;
        padding-right: 30px;
        padding-bottom: 30px;
        height: 100%; 
        background-position: center;
        /* background-image: url("background.jpg"); */
        background: linear-gradient(to top, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 1) 55em, rgba(255, 255, 255, 1) 290px), url("img/background.jpg") repeat;
				background-attachment: fixed;
        /* background-repeat: repeat; */
        /* box-shadow: inset 0 250px 50px 10px #FFF; */
        /* background: rgba(255,0,0,0.05);
        background: -moz-linear-gradient(top,rgba(255,0,0,0),rgba(255,0,0,0.2)); */
      }

      .page-header{
				border-bottom-color: red;
				margin-left: 20%;
				margin-right: 20%;
      }

      #naslov{
        font-family: 'Bungee Shade', cursive;
        margin-top: -20px;
        font-size: 60px;
        color: red;
			}
			
			.branding{
				width: auto;
			}

    .image-blurred-edgeR {
      background-image: url("img/donationsmall.png");
      width: 300px;
      height: 169px;
      box-shadow: 0 0 8px 8px white inset;
      float: right;
      margin-top: -90px;
      margin-bottom: 50px;
			margin-right: -30%;
			-moz-transform: scaleX(-1);
			-o-transform: scaleX(-1);
			-webkit-transform: scaleX(-1);
			transform: scaleX(-1);
			filter: FlipH;
			-ms-filter: "FlipH";
      }
      .image-blurred-edgeL {
      background-image: url("img/donationsmall.png");
      width: 300px;
      height: 169px;
      box-shadow: 0 0 8px 8px white inset;
      float: left;
      margin-top: -90px;
      margin-bottom: 50px;
      margin-left: -30%;
			}
			@media screen and (max-width: 1300px) {
				.image-blurred-edgeR {
					background-image: url("img/donationsmaller.png");
					width: 200px;
					height: 113px;
					box-shadow: 0 0 8px 8px white inset;
					float: right;
					margin-top: -90px;
					margin-bottom: 50px;
					margin-right: -20%;
					}
					.image-blurred-edgeL {
					background-image: url("img/donationsmaller.png");
					width: 200px;
					height: 113px;
					box-shadow: 0 0 8px 8px white inset;
					float: left;
					margin-top: -90px;
					margin-bottom: 50px;
					margin-left: -20%;
					}
		}

      /* #titleimgR{
				max-width: 100%;
    		height: auto;
				box-shadow: 0 0 8px 8px white inset;
        float: right;
        margin-top: -90px;
				margin-bottom: 50px;
				margin-left: -60%;
      }

      #titleimgL{
				max-width: 100%;
    		height: auto;
				box-shadow: 0 0 8px 8px white inset;
        float: left;
        margin-top: -90px;
				margin-bottom: 50px;
				margin-left: -30%;
      } */

      .tooltip {	
        position: absolute;
        text-align: left;	
        width: auto;					
        height: auto;					
        padding: 8px;				
        font: 13px sans-serif;		
        background: #FFF;	
        border: 0px;		
        border-radius: 8px;			
        pointer-events: none;			
      }

      #map{
        /* margin-left: 40px;
        margin-top: 1px; */
				float: left;
			}
			
			#graph{
				/* margin-top: -680px;
				margin-right: 40px; */
				/* margin-bottom: -1.3em; */
				margin-top: 3em;
				float: right;
				position: absolute;
    	}

      
      footer{
        padding: 2px;
        margin-left: -100px;
        margin-right: -30px;
        margin-top: 120px;
        margin-bottom: -30px;
        text-align: center;
        color: white;
        background-color: red;
				font-weight: bolder;
      }
      #ft-text{
        margin-top: 15px;
        font-size: 15px;
      }

    .radio-button {
        display: none;
    }
    .btns {
        display: flex;
        justify-content: left;
				width: auto;
				margin-top: -20px;
    }
    .lbl {
        display: inline-block;
        border: 4px solid lightskyblue;
        padding: 10px 20px;
        font-size: 1.4em;
        text-align: center;
        cursor: pointer;
        /* width: 600px; */
        margin-right: -40px;
        margin-left: 40px;
    }
    .lbl:hover {
        background-color: lightblue;
    }
    #btn-trans:checked~#lbl-trans,
    #btn-don:checked~#lbl-don {
        background-color: lightblue;
    }

    .d3-tipg {
      line-height: 1;
      font-weight: bold;
      padding: 12px;
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      border-radius: 2px;
    }

/* Creates a small triangle extender for the tooltip */
    .d3-tipg:after {
      box-sizing: border-box;
      display: inline;
      font-size: 10px;
      width: 100%;
      line-height: 1;
      color: rgba(0, 0, 0, 0.8);
      content: "\25BC";
      position: absolute;
      text-align: center;
    }

    .d3-tipg.n:after {
      margin: -1px 0 0 0;
      top: 100%;
      left: 0;
    }
    .axis path,
		.axis line {
			fill: none;
			stroke: black;
			stroke-width: 2;
			shape-rendering: crispEdges;
		}
    .barchart:hover {
	  fill: darkred;
	}


    </style>
  </head>
  
  
<body onload="legendDemo()">
    <div class="container branding">
        <div class="page-header">
						<h1 id="naslov" class="text-center">Trans - plan</h1>
						<div class="image-blurred-edgeR"></div>
						<div class="image-blurred-edgeL"></div>   
        </div>
        
			</div>
			<br>
			<br>

        
          <!-- <div class="page-header">
            <div class="container">
							<h1 id="naslov" class="text-center">Trans - plan</h1>    
								<img src="img/donationsmall.png" id="titleimgR" alt="title image">
								<img src="img/donationsmall.png" id="titleimgL" alt="title image" width="300" height="169">
						</div>
					</div> -->
       

      <div class="btns">
        <input type="radio" class="radio-button" name="dataset" id="btn-trans" autocomplete="off" value="trans" onclick="legendDemo()" checked><label for="btn-trans" class="lbl" id="lbl-trans"> Broj transplantacija p.m.p. </label>
        <input type="radio" class="radio-button" name="dataset" id="btn-don" autocomplete="off" value="don" onclick="legendDemo2()"><label for="btn-don" class="lbl" id="lbl-don"> Broj preminulih donora p.m.p. </label>
        </div>

          <!-- <input type="radio" id="trans-radio" class="radio-button" name="content-filter" value="trans" checked="checked">
          <input type="radio" id="don-radio" class="radio-button" name="content-filter" value="don">
          
          <div id="filter">
            <label for="trans-radio" class="filter-label trans" id="trans-label">Broj transplantacija p.m.p.</label>
            <label for="don-radio" class="filter-label don" id="don-label">Broj preminulih donora p.m.p.</label>
          </div> -->



	<div class="row">
		<div class="col-lg-5 col-md-12 col-sm-12 col-xs-12">
			<div id="map"></div>
		</div>

		<div class="col-lg-2 hidden-md hidden-sm hidden-xs"></div>

		<div class="col-lg-5 col-md-12 col-sm-12 col-xs-12">
			<div id="graph"></div>
		</div>
	</div>


<script>
(function() {
  var center, countries, height, path, projection, scale, svg, width;
  width = 700;
  height = 600;
  center = [5, 70];
  scale = 500;
  var flag = 0;
  projection = d3.geo.mercator().scale(scale).translate([width / 2, 0]).center(center);

  svg = d3.select("#map").append("svg")
		.attr("width", width)
    .attr("height", height)
    .style("background", "lightblue")
    // .style("position", "relative")
    .style("border", "1px solid")
    .call(d3.behavior.zoom().scaleExtent([1, 8])
    .on("zoom", zoom))
    .append("g");

    path = d3.geo.path().projection(projection);
    var g = svg.append("g");

  /* var div = d3.select("body").append("div")	
				.attr("class", "tooltip")				
				.style("opacity", 0) */
        // .style("font-weight", "bolder");

    var transcolor = d3.scale.linear().domain([0,1,101])
      .interpolate(d3.interpolateHcl)
      .range([d3.rgb("#ffffff"), d3.rgb("#f7fcf5"), d3.rgb("#005a32")]);

    var doncolor = d3.scale.linear().domain([0,1,42])
      .interpolate(d3.interpolateHcl)
      .range([d3.rgb("#ffffff"),d3.rgb("#fcfbfd"), d3.rgb("#3f007d")]);
    
    var doncolor1 = d3.scale.linear().domain([0,1,42])
      .interpolate(d3.interpolateHcl)
      .range([d3.rgb("#ffffff"),d3.rgb("#e6f0ff"), d3.rgb("#000a1a")]);

  
var map = d3.json("jsons/eu_p.json", function(error, topology) {
    g.selectAll("path")
    .data(topojson.object(topology, topology.objects.europe).geometries)
    .enter()
    .append('path')
    .attr('d', path)
    .style("fill", function (d) {return transcolor(d.properties.ntranspmp);})
    //.style("fill", "lightyellow")
	.style("stroke", "black")
	.style("stroke-width", 1)
	.style("stroke-opacity", 1)

    .on("mouseover", function(d, i){ 
        var currentState = this;
					d3.select(this)
						.style("cursor", "pointer")
                        .style("stroke", "red")
		                .style("stroke-width", 4);
                        

          /* div.transition()		
						.duration(200)		
						.style("opacity", 0.9); */

		
        /* div.html(function (d, i) {
	
        var value = d3.select('input[name="dataset"]:checked').node().value;

        if (value=="trans")
            { return ("<strong>" + d.properties.name + "</strong>" + "<br>" + "transplantacije pmp: " + "<strong>" + d.properties.ntranspmp + "</strong>" + "<br>" + "transplantacije: " + "<strong>" + d.properties.ntrans + "</strong>");}
        
        else if (value=="don")
        { return ("<strong>" + d.properties.name + "</strong>" + "<br>" + "donori pmp: " + "<strong>" + d.properties.mdonorpmp + "</strong>" + "<br>" + "donori: " + "<strong>" + d.properties.mdonorpmp + "</strong>"); }

        else {return ("<strong>" + d.properties.name + "</strong>" + "<br>" + "transplantacije pmp: " + "<strong>" + d.properties.ntranspmp + "</strong>" + "<br>" + "transplantacije: " + "<strong>" + d.properties.ntrans + "</strong>");}
        }) */
    // div.html("<strong>" + d.properties.name + "</strong>" + "<br>" + "transplantacije pmp: " + "<strong>" + d.properties.ntranspmp + "</strong>" + "<br>" + "transplantacije: " + "<strong>" + d.properties.ntrans + "</strong>")
        /* .style("left", (d3.event.pageX) + "px")		
        .style("top", (d3.event.pageY - 30) + "px"); */
		})

    .on('mousemove.tooltip', tip.show)

	.on('mouseout', function(d, i){
    d3.selectAll('.name')
						.style("opacity", 1)
						.style("cursor", "default");
		/* div.transition()		
						.duration(500)		
						.style("opacity", 0); */
		d3.select(this).style("stroke", "black");
		d3.select(this).style("stroke-width", 1);
        tip.hide(d);
        
                            
    })
    .on("click", clicked);
    return;
  });

  d3.selectAll("input")
  .on("change", change);

  function change(){

g.selectAll("path")
.transition()
.duration(500)
.style("fill", function (d,i){ 	
        var value = d3.select('input[name="dataset"]:checked').node().value;
if (value=="trans")
        { return transcolor (d.properties.ntranspmp);}
else if (value=="don")
    { return doncolor (d.properties.mdonorpmp);}
else return transcolor(d.properties.ntranspmp);});
}

var tip = d3.tip()
  .attr('class', 'tooltip')  
 tip.offset(function() {
  return [this.getBBox().height / 4, 0]
})
.html(function (d) {
	
        var value = d3.select('input[name="dataset"]:checked').node().value;

        if (value=="trans")
            { return ("<strong>" + d.properties.name + "</strong>" + ": " + "<strong>" + d.properties.ntranspmp + "</strong>" + "<br>" + "transplantacije: " + "<strong>" + d.properties.ntrans + "</strong>");}
        
        else if (value=="don")
        { return ("<strong>" + d.properties.name + "</strong>" + ": " + "<strong>" + d.properties.mdonorpmp + "</strong>" + "<br>" + "donori: " + "<strong>" + d.properties.mdonor + "</strong>"); }

        else {return ("<strong>" + d.properties.name + "</strong>" + "<br>" + "transplantacije pmp: " + "<strong>" + d.properties.ntranspmp + "</strong>" + "<br>" + "transplantacije: " + "<strong>" + d.properties.ntrans + "</strong>");}
        })
  svg.call(tip);

  function zoom() {
	svg.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
  }
  
  function clicked(d) {
    if(flag == 1){
                d3.selectAll(".ime")
                    .remove();
            }

      if(d.properties.name == "Hrvatska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5);
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0]);
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom");
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .style("margin-left", "-10px")
          .text("Hrvatska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
									.attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
									.attr("width", x.rangeBand())
                  .attr("fill", "red");

        flag = 1;
      });
      }

      else if(d.properties.name == "Armenija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/armenija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Armenija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Austrija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/austrija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Austrija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Azerbajdžan"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/azerbajdan.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Azerbajdžan:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Belgija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/belgija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Belgija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "BiH"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/bih.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("BiH:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Bjelorusija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/bjelorusija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Bjelorusija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Bugarska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/bugarska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Bugarska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Češka"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/ceska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Češka:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Crna Gora"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/crnagora.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Crna Gora:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Danska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/danska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Danska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Estonija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/estonija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Estonija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Finska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/finska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Finska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Francuska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/francuska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Francuska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Grčka"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/grcka.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Grčka:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Gruzija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/gruzija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Gruzija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Irska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/irska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Irska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Island"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/island.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Island:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Italija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/italija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Italija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Latvija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/latvija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Latvija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Litva"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/litva.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Litva:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Mađarska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/madarska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Mađarska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Makedonija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/makedonija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Makedonija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Malta"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/malta.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Malta:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Moldavija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/moldavija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Moldavija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Nizozemska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/nizozemska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nizozemska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Norveška"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/norveska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Norveška:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Njemačka"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/njemacka.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Njemačka:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Poljska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/poljska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Poljska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Portugal"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/portugal.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Portugal:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Rumunjska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/rumunjska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Rumunjska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Rusija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/rusija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Rusija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Slovačka"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/slovacka.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Slovačka:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Slovenija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/slovenija.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Slovenija:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Španjolska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/spanjolska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Španjolska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Švedska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/svedska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Švedska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Švicarska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/svicarska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Švicarska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Turska"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/turska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Turska:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "UK"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/uk.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("UK:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }

      else if(d.properties.name == "Ukrajina"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/ukrajina.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", (width/2))
					.attr("y", 0 - (margin.top / 2))
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Ukrajina:");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						
				var barchart = svg.selectAll("rect")
									.data(data)
									.enter()
                  .append("rect")
                  .on('mouseover', tip.show)
                  .on('mouseout', tip.hide)
									.attr("class", "barchart")
                  .attr("height", 0)
                  .attr("y", y(0))
									.transition()
                  .duration(1000)
                  .delay(function(d,i){ return i*250})
									.attr("x", function(d) { return x(d.ORGAN); })
									.attr("y", function(d) {return y(d.BRTRANSPLANTACIJA); }) 
                  .attr("height", function(d) { return height - y(d.BRTRANSPLANTACIJA); })
                  .attr("fill", "red")
									.attr("width", x.rangeBand());

        flag = 1;
      });
      }
      
      else if(d.properties.name == "Albanija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Aland"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Andora"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Cipar"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Faeroe Is."){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Guernsey"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Grenland"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Isle of Man"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Jersey"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Kazahstan"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Kosovo"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Lihtenštajn"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Luksemburg"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Monako"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "San Marino"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Srbija"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      else if(d.properties.name == "Turkmenistan"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

      if(d.properties.name == "Vatikan"){
						
				var margin = {top: 30, bottom: 30, left: 70, right: 20};
				var width = 600 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;
        
        d3.json("jsons/hrvatska.json", function(error, data) {

          data.forEach(function(d) {
            d.ORGAN = d.ORGAN;
            d.BRTRANSPLANTACIJA = +d.BRTRANSPLANTACIJA;
          });

          var tip = d3.tip()
            .attr('class', 'd3-tipg')
            .offset([-10, 0])
            .html(function(d) {
              return "<strong>Transplantacija:</strong> <span style='color:red;font-weight:bolder'>" + d.BRTRANSPLANTACIJA + "</span>";
          })

				var svg = d3.select("#graph")
							.append("svg")
							.attr("class", "ime")
							.attr("width", width + margin.left + margin.right + 100)
							.attr("height", 600)
							.style("background-color", "transparent")
							.append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
              

						
				var x = d3.scale.ordinal()
							.rangeRoundBands([0, width], 0.5)
							// .domain(d3.range(data[1].values.length));

				var y = d3.scale.linear()
							.range([height, 0])
              // .domain([0, d3.max(data[1].values)]);
              
        svg.call(tip);
            x.domain(data.map(function(d) { return d.ORGAN; }));
            y.domain([0, d3.max(data, function(d) { return d.BRTRANSPLANTACIJA; })]);
					
				var xAxis = d3.svg.axis()
							.scale(x)
							.orient("bottom")
							// .tickFormat(function(d, i) { return data[0].values[i]; });
							
				var yAxis = d3.svg.axis()
							.scale(y)
							.orient("left")
							.ticks(6);
							
				svg.append("g")
					.attr("class", "x axis")
					.attr("transform", "translate(0," + height + ")")
					.call(xAxis)
					.selectAll("text")
          .style("text-anchor", "middle")
          .style("font-weight", "bold")
          .style("font-size", "1.2em")
					.attr("transform", " translate(0, 10)");
					
				svg.append("g")
					.attr("class", "y axis")
					.call(yAxis)
					.append("text")
					.attr("transform", "rotate(-90)")
					.attr("y", 6)
					.attr("dy", ".71em")
					.style("text-anchor", "end");
					
				svg.append("text")
					.attr("x", 200)
					.attr("y", 250)
					.attr("text-anchor", "right")
          .style("font-size", "1.3em")
          .style("font-weight", "bold")
          .style("text-decoration", "underline")
          .text("Nema podataka");
          
          svg.append("g")
				.attr("class", "y axis")
				.call(yAxis)
				.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x",0 - (height / 2))
				.attr("dy", "1em")
				.attr("y", -65)
				.attr("dy", ".71em")
				.style("text-anchor", "middle")
        .style("stroke", "black")
        .style("font-size", "1.2em")
				.text("Broj transplantacija");
						


        flag = 1;
      });
      }

	}
    
}).call(this);



function legendDemo() {

          d3.selectAll("#legend1").style("opacity", 1).transition().duration(200).style("opacity", 0).remove();
      
        sampleCategoricalData = [" "," "," ",">90"];
        sampleCategoricalData2 = [" "," "," ",">90"];
        sampleThreshold=d3.scale.threshold().domain(sampleCategoricalData).range(colorbrewer.Greens[5]);
        sampleThreshold2=d3.scale.threshold().domain(sampleCategoricalData2).range([d3.rgb("#e6f0ff"), d3.rgb("#000a1a")]);
        horizontalLegend = d3.svg.legend().units("1.9").labelFormat("none").cellWidth(30).cellHeight(15).inputScale(sampleThreshold).cellStepping(100);
        // horizontalLegend2 = d3.svg.legend().units("1.9").labelFormat("none").cellWidth(30).cellHeight(15).inputScale(sampleThreshold2).cellStepping(100);
      
        d3.select("svg").append("g").attr("transform", "translate(20,550)").attr("class", "legend").attr("id", "legend1").call(horizontalLegend).style("opacity", 0).transition().duration(700).style("opacity", 1);
          
        d3.selectAll("#legend2").style("opacity", 1).transition().duration(200).style("opacity", 0).remove();
      
        }

        function legendDemo2() {

          d3.selectAll("#legend2").style("opacity", 1).transition().duration(200).style("opacity", 0).remove();
      
        sampleCategoricalData = [" "," "," ",">90"];
        sampleCategoricalData2 = [" "," "," ",">35"];
        sampleThreshold=d3.scale.threshold().domain(sampleCategoricalData).range(colorbrewer.Greens[5]);
        sampleThreshold2=d3.scale.threshold().domain(sampleCategoricalData2).range(colorbrewer.Purples[5]);
        horizontalLegend = d3.svg.legend().units("0.1").labelFormat("none").cellWidth(30).cellHeight(15).inputScale(sampleThreshold2).cellStepping(100);

        d3.select("svg").append("g").attr("transform", "translate(20,550)").attr("class", "legend").attr("id", "legend2").call(horizontalLegend).style("opacity", 0).transition().duration(700).style("opacity", 1);

        d3.selectAll("#legend1").style("opacity", 1).transition().duration(200).style("opacity", 0).remove();
      
        }
</script>

<!-- <footer>
    <p id="ft-text">Matija Tivanovac, DRC, Vizualizacija podataka - projekt</p>
</footer> -->


</body>
</html>